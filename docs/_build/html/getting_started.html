<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting Started &mdash; WaterTAP 1.3.dev0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=169190e7" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=4e9539be"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Tutorials" href="tutorials/index.html" />
    <link rel="prev" title="Welcome to WaterTAP’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            WaterTAP
              <img src="_static/NAWI_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.3.dev0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-conda-environments">Using Conda environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-on-linux-windows-and-mac-arm">Install on Linux, Windows, and Mac (ARM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-on-mac-intel">Install on Mac (Intel)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-test-suite">Running the test suite</a></li>
<li class="toctree-l2"><a class="reference internal" href="#for-watertap-developers">For WaterTAP developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-jupyter-notebooks">Using Jupyter notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="how_to_guides/index.html">How To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_reference/index.html">Technical Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="background/index.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">Copyright</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">WaterTAP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Getting Started</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/getting_started.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this heading"></a></h1>
<p>The following sections provide information on how to setup your Conda environment and install WaterTAP on your macOS, Linux, or Windows computer.</p>
<section id="using-conda-environments">
<h2>Using Conda environments<a class="headerlink" href="#using-conda-environments" title="Permalink to this heading"></a></h2>
<p>Conda environments are a way to create and manage multiple sets of packages and/or Python versions on the same system without incurring conflicts. Each Conda environment is a dedicated directory, separate from other Conda environments and the operating system’s own directories, containing its own collection of packages, executables, and Python installation, including the Python interpreter. Once a Conda environment is <em>activated</em>, using the <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span></code> command in a terminal/console, the environment’s own version of Python will be used to run commands or interactive sessions for the remainder of the session. For these reasons, Conda environments are especially useful to install and manage multiple projects (and/or multiple <em>versions</em> of the same project) on the same computer with minimal effort, as they provide a way to seamlessly switch between different projects without conflicts.</p>
<p>Using Conda environments is not mandatory to be able to install and use WaterTAP; however, it is strongly recommended. To use Conda environments, the <code class="docutils literal notranslate"><span class="pre">conda</span></code> package manager is required. Refer to the <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/tutorials/getting_started/index.html#installation">Conda installation guide</a> for detailed steps on how to install Conda for your operating system.</p>
</section>
<section id="install-on-linux-windows-and-mac-arm">
<span id="install"></span><h2>Install on Linux, Windows, and Mac (ARM)<a class="headerlink" href="#install-on-linux-windows-and-mac-arm" title="Permalink to this heading"></a></h2>
<p>Mac users, this section is for Apple computers with ARM processors (also known as Apple Silicon, M1, or M2). To check if your Mac is using an ARM processor, click the apple icon in the upper left corner of your screen. Then select the About This Mac item to view the type of processor in your computer.</p>
<p>Create a Conda environment (in this example, named <code class="docutils literal notranslate"><span class="pre">watertap</span></code>) where WaterTAP and its runtime dependencies will be installed:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>watertap<span class="w"> </span>--yes<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11
</pre></div>
</div>
<p>Activate the <code class="docutils literal notranslate"><span class="pre">watertap</span></code> environment using the command given below. If the environment was activated successfully, the environment’s name will be displayed in the terminal prompt such as <code class="docutils literal notranslate"><span class="pre">(watertap)</span> <span class="pre">project-directory</span> <span class="pre">$</span></code>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>watertap
</pre></div>
</div>
<p>Install WaterTAP in the Conda environment using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>watertap
</pre></div>
</div>
<p>(Optional) See the <a class="reference internal" href="#running-test-suite"><span class="std std-ref">Running the test suite</span></a> section, if you want to verify that the installation was successful.</p>
<p>After installing WaterTAP, the IDAES Extensions command can be used to automatically install the solvers distributed as part of the IDAES Extensions. Depending on your operating system, additional steps might be needed. For more information, refer to the <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/tutorials/getting_started/index.html#installation">IDAES installation guide</a>. From the same environment where WaterTAP was installed, run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>idaes<span class="w"> </span>get-extensions
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span></code> command described above must be run each time a new terminal/console session is started.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Typically, the <code class="docutils literal notranslate"><span class="pre">idaes</span> <span class="pre">get-extensions</span></code> command only needs to be run once for each system, as it will install the required files into a common, system-wide location.</p>
</div>
</section>
<section id="install-on-mac-intel">
<h2>Install on Mac (Intel)<a class="headerlink" href="#install-on-mac-intel" title="Permalink to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Intel Mac support is currently experimental; therefore, some WaterTAP features may not work.</p>
</div>
<p>This section is for Apple’s Mac computers with Intel processors. To check if your Mac is using an Intel processor, click the apple icon in the upper left corner of your screen. Then select the About This Mac item to view the type of processor in your computer.</p>
<p>Create a Conda environment (in this example, named <code class="docutils literal notranslate"><span class="pre">watertap</span></code>) where WaterTAP and its runtime dependencies will be installed:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>watertap<span class="w"> </span>--yes<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11
</pre></div>
</div>
<p>Activate the <code class="docutils literal notranslate"><span class="pre">watertap</span></code> environment using the command given below. If the environment was activated successfully, the environment’s name will be displayed in the terminal prompt such as <code class="docutils literal notranslate"><span class="pre">(watertap)</span> <span class="pre">project-directory</span> <span class="pre">$</span></code>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>watertap
</pre></div>
</div>
<p>Install WaterTAP in the Conda environment using <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>watertap
</pre></div>
</div>
<p>(Optional) See the <a class="reference internal" href="#running-test-suite"><span class="std std-ref">Running the test suite</span></a> section, if you want to verify that the installation was successful.</p>
<p>After installing WaterTAP, we need to ensure we have the Xcode toolkit, build the PyNumero Pyomo extensions, and obtain solvers from conda-forge. To install Xcode, run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>xcode-select<span class="w"> </span>--install
</pre></div>
</div>
<p>To build PyNumero, from the same environment where WaterTAP was installed, run the following commands:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>--yes<span class="w"> </span>cmake
pyomo<span class="w"> </span>build-extensions
</pre></div>
</div>
<p>The output of the second command should be something like:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>INFO:<span class="w"> </span>Finished<span class="w"> </span>building<span class="w"> </span>Pyomo<span class="w"> </span>extensions.
INFO:<span class="w"> </span>The<span class="w"> </span>following<span class="w"> </span>extensions<span class="w"> </span>were<span class="w"> </span>built:
<span class="w">   </span><span class="o">[</span>FAIL<span class="o">]</span><span class="w">  </span>appsi
<span class="w">   </span><span class="o">[</span>FAIL<span class="o">]</span><span class="w">  </span>mcpp
<span class="w">   </span><span class="o">[</span><span class="w"> </span>OK<span class="w"> </span><span class="o">]</span><span class="w">  </span>pynumero
</pre></div>
</div>
<p>Next, we can obtain Ipopt and CBC from conda-forge:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>--yes<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>ipopt<span class="w"> </span>coincbc
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span></code> command described above must be run each time a new terminal/console session is started.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">pyomo</span> <span class="pre">build-extensions</span></code> command only needs to be run once for each system as it builds and installs the required libraries into a common, system-wide location. After building PyNumero, you should not need cmake. You can remove it by running <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">uninstall</span> <span class="pre">cmake</span></code>.</p>
</div>
</section>
<section id="running-the-test-suite">
<span id="running-test-suite"></span><h2>Running the test suite<a class="headerlink" href="#running-the-test-suite" title="Permalink to this heading"></a></h2>
<p>To run the WaterTAP test suite, first install the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> test framework:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pytest
</pre></div>
</div>
<p>Then, run the following command to run the complete WaterTAP test suite:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>--pyargs<span class="w"> </span>watertap
</pre></div>
</div>
<p>(Optional) To see a list of available command-line options, run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>--pyargs<span class="w"> </span>watertap<span class="w"> </span>--help
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some tests will be skipped (denoted by an <code class="docutils literal notranslate"><span class="pre">s</span></code> symbol). This is to be expected, as some of the tests are only applicable within a developer environment.</p>
</div>
</section>
<section id="for-watertap-developers">
<span id="install-dev"></span><h2>For WaterTAP developers<a class="headerlink" href="#for-watertap-developers" title="Permalink to this heading"></a></h2>
<p>This section is for developers who plan to modify or contribute to WaterTAP’s codebase. Typically, <em>contributing to WaterTAP</em> will involve opening a Pull Request (PR) in WaterTAP’s repository. For more information, refer to <a class="reference internal" href="how_to_guides/how_to_contribute_development.html#developer-guide"><span class="std std-ref">How to contribute to WaterTAP’s development</span></a>.</p>
<p>Create a Conda environment (in this example, named <code class="docutils literal notranslate"><span class="pre">watertap-dev</span></code>) where WaterTAP and all dependendencies needed for development will be installed, then activate it:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>watertap-dev<span class="w"> </span>--yes<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>conda<span class="w"> </span>activate<span class="w"> </span>watertap-dev
</pre></div>
</div>
<p>Clone the WaterTAP repository to your local development machine using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>, then enter the newly created <code class="docutils literal notranslate"><span class="pre">watertap</span></code> subdirectory:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/watertap-org/watertap<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>watertap
</pre></div>
</div>
<p>Install WaterTAP and the development dependencies using <code class="docutils literal notranslate"><span class="pre">pip</span></code> and the <code class="docutils literal notranslate"><span class="pre">requirements-dev.txt</span></code> file:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements-dev.txt
</pre></div>
</div>
<p>If needed, or if this is your first time installing IDAES or WaterTAP on your machine, run the following line from the same environment where WaterTAP was installed.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>idaes<span class="w"> </span>get-extensions
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Typically, the <code class="docutils literal notranslate"><span class="pre">idaes</span> <span class="pre">get-extensions</span></code> command only needs to be run once for each system, as it will install the required files into a common, system-wide location.  Depending on your operating system, you may need to follow additional steps described above to install solvers distributed through IDAES Extensions.</p>
</div>
<p>(Optional but recommended) <a class="reference external" href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Pre-commit hooks</a> are scripts that are automatically run by Git “client-side” (i.e. on a developer’s local machine) whenever <cite>git commit</cite> is run. WaterTAP uses the <a class="reference external" href="https://pre-commit.com/">pre-commit</a> framework to manage a few hooks that are useful for WaterTAP developers. To install the WaterTAP pre-commit hooks, run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pre-commit<span class="w"> </span>install
</pre></div>
</div>
<p>To verify that the installation was successful, try running the WaterTAP test suite using <code class="docutils literal notranslate"><span class="pre">pytest</span></code>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pytest
</pre></div>
</div>
<p>To view/change the generated documentation, see the <a class="reference internal" href="how_to_guides/how_to_contribute_development.html#documentation-mini-guide"><span class="std std-ref">Working with the WaterTAP documentation</span></a> section.</p>
</section>
<section id="using-jupyter-notebooks">
<h2>Using Jupyter notebooks<a class="headerlink" href="#using-jupyter-notebooks" title="Permalink to this heading"></a></h2>
<p>WaterTAP has several examples and tutorials provided as Jupyter notebooks. Additional steps might be required (in addition to the WaterTAP standard installation described above); see <a class="reference internal" href="how_to_guides/notebooks.html#notebooks"><span class="std std-ref">How to run WaterTAP with Jupyter notebooks</span></a> for instructions.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to WaterTAP’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorials/index.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="copyright.html">Copyright</a> 2020-2024, NAWI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>