<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to setup simple chemistry &mdash; WaterTAP 1.3.dev0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=169190e7" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=4e9539be"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="How to use apparent and true chemical species" href="how_to_use_apparent_and_true_chemical_species.html" />
    <link rel="prev" title="How to use the multicomponent aqueous solution (MCAS) property model" href="how_to_use_MCAS_property_model.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            WaterTAP
              <img src="../_static/NAWI_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.3.dev0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">How To Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="how_to_run_models_in_a_py_script.html">How to run models in a Python script</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_run_zero_order_model.html">How to run a zero-order model</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_a_property_model.html">How to use a property model</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_setup_simple_RO.html">How to setup a simple RO model</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_setup_RO_config_options.html">How to use configuration options in the RO model</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_MCAS_property_model.html">How to use the multicomponent aqueous solution (MCAS) property model</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">How to setup simple chemistry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-you-will-need">What you will need</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-thermo-properties-configuration-dictionary">The <strong>thermo-properties</strong> configuration dictionary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-thermo-properties-configuration-dictionary">Example thermo-properties configuration dictionary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-reaction-properties-configuration-dictionary">The <strong>reaction-properties</strong> configuration dictionary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-reaction-properties-configuration-dictionary">Example reaction-properties configuration dictionary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#defining-a-unit-model">Defining a <strong>unit model</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-using-our-configuration-dictionaries-in-an-equilibriumreactor">Example: Using our configuration dictionaries in an EquilibriumReactor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_apparent_and_true_chemical_species.html">How to use apparent and true chemical species</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_inherent_reactions.html">How to use inherent reactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_scale_a_model.html">How to scale a model</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_scale_chemical_reactions.html">How to scale chemical reactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_scale_chemical_species.html">How to scale chemical species</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_scale_chemical_process_energy_balance.html">How to scale energy balance for chemical process</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_parameter_sweep.html">How to explore a model with parameter sweep</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_parameter_sweep_monte_carlo.html">Monte Carlo testing with the Parameter Sweep</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_run_differential_parameter_sweep.html">How to Run Differential Parameter Sweep</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_loopTool_to_explore_flowsheets.html">How to use loopTool to explore flowsheets</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_debugging_solver_wrapper.html">How to use the debugging solver wrapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_property_test_harness.html">How to use the property test harness</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_ui_api.html">Add a flowsheet to the UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_unit_test_harness.html">How to use the unit test harness</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_contribute_development.html">How to contribute to WaterTAP’s development</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks.html">How to run WaterTAP with Jupyter notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../technical_reference/index.html">Technical Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../background/index.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">Copyright</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WaterTAP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">How To Guides</a></li>
      <li class="breadcrumb-item active">How to setup simple chemistry</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/how_to_guides/how_to_setup_simple_chemistry.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-to-setup-simple-chemistry">
<span id="id1"></span><h1>How to setup simple chemistry<a class="headerlink" href="#how-to-setup-simple-chemistry" title="Permalink to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page provides a manual approach to building an IDAES configuration dictionary.</p>
</div>
<p>In WaterTAP, chemistry modules leverage the Generic Properties
(<a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general/index.html#generic-property-package-framework">GenericProperties</a>)
and Generic Reactions
(<a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general_reactions/index.html">GenericReactions</a>)
objects in IDAES. These objects can be used in conjunction with any unit process
where chemical reactions need to be considered. In this guide, we will cover how
to use these built-in objects within your own unit process.</p>
<section id="what-you-will-need">
<h2>What you will need<a class="headerlink" href="#what-you-will-need" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>[Required] A <strong>thermo-properties</strong> configuration dictionary</p></li>
<li><p>[Optional] A <strong>reaction-properties</strong> configuration dictionary</p></li>
<li><p>[Required] A <strong>unit model</strong> upon which to build the chemistry module</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <strong>reaction-properties</strong> dictionary is optional for certain unit models and
required for others. Additionally, certain reactions can actually be defined
in the <strong>thermo-properties</strong> dictionary and would therefore NOT be included in
the <strong>reaction-properties</strong> dictionary. The differences will be covered in another
how-to guide (see <a class="reference internal" href="how_to_use_inherent_reactions.html#how-to-use-inherent-reactions"><span class="std std-ref">How to use inherent reactions</span></a>)</p>
</div>
</section>
<section id="the-thermo-properties-configuration-dictionary">
<h2>The <strong>thermo-properties</strong> configuration dictionary<a class="headerlink" href="#the-thermo-properties-configuration-dictionary" title="Permalink to this heading"></a></h2>
<p>You will always be required to provide a configuration dictionary for thermodynamic
properties of the chemical species of interest in your process. At a minimum, the
<strong>thermo-properties</strong> dictionary MUST contain the following keys…</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>components</p></td>
<td><p>dictionary containing the chemical species of interest and their properties</p></td>
</tr>
<tr class="row-odd"><td><p>phases</p></td>
<td><p>dictionary containing the phases (gas, liquid, etc) for the system and its species</p></td>
</tr>
<tr class="row-even"><td><p>state_definition</p></td>
<td><p>IDAES object which defines how inlet/outlet ports define the initial state of the system</p></td>
</tr>
<tr class="row-odd"><td><p>base_units</p></td>
<td><p>dictionary containing the base units the model will use for all equations in the system</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on your system, there may be additional keys in the <strong>thermo-properties</strong>
configuration dictionary that may be required. For instance, multi-phase problems
also require you to define how the model should represent the phase equilibria
between the system’s phases. An in depth discussion of all options and methods
is beyond the scope of this guide. For additional information, refer to the IDAES
documentation (<a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general/index.html#generic-property-package-framework">GenericProperties</a>).</p>
</div>
<section id="example-thermo-properties-configuration-dictionary">
<h3>Example thermo-properties configuration dictionary<a class="headerlink" href="#example-thermo-properties-configuration-dictionary" title="Permalink to this heading"></a></h3>
<p>In this example, we will define a simple thermo-properties configuration dictionary
for a chemical system that contains only water.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importing the object for units from pyomo</span>
<span class="kn">from</span> <span class="nn">pyomo.environ</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">pyunits</span>

<span class="c1"># Imports from idaes core</span>
<span class="kn">from</span> <span class="nn">idaes.core</span> <span class="kn">import</span> <span class="n">AqueousPhase</span>
<span class="kn">from</span> <span class="nn">idaes.core.base.components</span> <span class="kn">import</span> <span class="n">Solvent</span><span class="p">,</span> <span class="n">Cation</span><span class="p">,</span> <span class="n">Anion</span>

<span class="c1"># Imports from idaes generic models</span>
<span class="kn">import</span> <span class="nn">idaes.models.properties.modular_properties.pure.Perrys</span> <span class="k">as</span> <span class="nn">Perrys</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.pure.ConstantProperties</span> <span class="kn">import</span> <span class="n">Constant</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.state_definitions</span> <span class="kn">import</span> <span class="n">FTPx</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.eos.ideal</span> <span class="kn">import</span> <span class="n">Ideal</span>

<span class="c1"># Configuration dictionary</span>
<span class="n">thermo_config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;components&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;H2O&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">Solvent</span><span class="p">,</span>
              <span class="c1"># Define the methods used to calculate the following properties</span>
              <span class="s2">&quot;dens_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Perrys</span><span class="p">,</span>
              <span class="s2">&quot;enth_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Perrys</span><span class="p">,</span>
              <span class="s2">&quot;cp_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Perrys</span><span class="p">,</span>
              <span class="s2">&quot;entr_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Perrys</span><span class="p">,</span>
              <span class="c1"># Parameter data is always associated with the methods defined above</span>
              <span class="s2">&quot;parameter_data&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;mw&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">18.0153</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">g</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                    <span class="c1"># Parameters here come from Perry&#39;s Handbook:  p. 2-98</span>
                    <span class="s2">&quot;dens_mol_liq_comp_coeff&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;eqn_type&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">5.459</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">m</span><span class="o">**-</span><span class="mi">3</span><span class="p">),</span>
                        <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.30542</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">dimensionless</span><span class="p">),</span>
                        <span class="s1">&#39;3&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">647.13</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">),</span>
                        <span class="s1">&#39;4&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.081</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">dimensionless</span><span class="p">)},</span>
                    <span class="s2">&quot;enth_mol_form_liq_comp_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">285.830</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kJ</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                    <span class="s2">&quot;enth_mol_form_vap_comp_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kJ</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                    <span class="c1"># Parameters here come Perry&#39;s Handbook:  p. 2-174</span>
                    <span class="s2">&quot;cp_mol_liq_comp_coeff&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">2.7637E5</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">),</span>
                        <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">2.0901E3</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span>
                        <span class="s1">&#39;3&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">8.125</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">**</span><span class="mi">3</span><span class="p">),</span>
                        <span class="s1">&#39;4&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.4116E-2</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">**</span><span class="mi">4</span><span class="p">),</span>
                        <span class="s1">&#39;5&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">9.3701E-6</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">**</span><span class="mi">5</span><span class="p">)},</span>
                    <span class="s2">&quot;cp_mol_ig_comp_coeff&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">30.09200</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">),</span>
                        <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">6.832514</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="o">**-</span><span class="mi">1</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">**-</span><span class="mi">1</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kiloK</span><span class="o">**-</span><span class="mi">1</span><span class="p">),</span>
                        <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">6.793435</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="o">**-</span><span class="mi">1</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">**-</span><span class="mi">1</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kiloK</span><span class="o">**-</span><span class="mi">2</span><span class="p">),</span>
                        <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">2.534480</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="o">**-</span><span class="mi">1</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">**-</span><span class="mi">1</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kiloK</span><span class="o">**-</span><span class="mi">3</span><span class="p">),</span>
                        <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.082139</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="o">**-</span><span class="mi">1</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">**-</span><span class="mi">1</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kiloK</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span>
                        <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">250.8810</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kJ</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                        <span class="s1">&#39;G&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mf">223.3967</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">),</span>
                        <span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kJ</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">)},</span>
                    <span class="s2">&quot;entr_mol_form_liq_comp_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">69.95</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">)</span>
                    <span class="c1"># End parameter_data</span>
                    <span class="p">}},</span>
        <span class="s1">&#39;H_+&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">Cation</span><span class="p">,</span> <span class="s2">&quot;charge&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
              <span class="c1"># Define the methods used to calculate the following properties</span>
              <span class="s2">&quot;dens_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Constant</span><span class="p">,</span>
              <span class="s2">&quot;enth_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Constant</span><span class="p">,</span>
              <span class="s2">&quot;cp_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Constant</span><span class="p">,</span>
              <span class="s2">&quot;entr_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Constant</span><span class="p">,</span>
              <span class="c1"># Parameter data is always associated with the methods defined above</span>
              <span class="s2">&quot;parameter_data&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;mw&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.00784</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">g</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                    <span class="s2">&quot;dens_mol_liq_comp_coeff&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">55</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">m</span><span class="o">**-</span><span class="mi">3</span><span class="p">),</span>
                    <span class="s2">&quot;enth_mol_form_liq_comp_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kJ</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                    <span class="s2">&quot;cp_mol_liq_comp_coeff&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">75000</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">),</span>
                    <span class="s2">&quot;entr_mol_form_liq_comp_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">)</span>
                                <span class="p">},</span>
                    <span class="c1"># End parameter_data</span>
                    <span class="p">},</span>
        <span class="s1">&#39;OH_-&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">Anion</span><span class="p">,</span> <span class="s2">&quot;charge&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
              <span class="c1"># Define the methods used to calculate the following properties</span>
              <span class="s2">&quot;dens_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Constant</span><span class="p">,</span>
              <span class="s2">&quot;enth_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Constant</span><span class="p">,</span>
              <span class="s2">&quot;cp_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Constant</span><span class="p">,</span>
              <span class="s2">&quot;entr_mol_liq_comp&quot;</span><span class="p">:</span> <span class="n">Constant</span><span class="p">,</span>
              <span class="c1"># Parameter data is always associated with the methods defined above</span>
              <span class="s2">&quot;parameter_data&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;mw&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">17.008</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">g</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                    <span class="s2">&quot;dens_mol_liq_comp_coeff&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">55</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">*</span><span class="n">pyunits</span><span class="o">.</span><span class="n">m</span><span class="o">**-</span><span class="mi">3</span><span class="p">),</span>
                    <span class="s2">&quot;enth_mol_form_liq_comp_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">230.000</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kJ</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                    <span class="s2">&quot;cp_mol_liq_comp_coeff&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">75000</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">kmol</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">),</span>
                    <span class="s2">&quot;entr_mol_form_liq_comp_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mf">10.75</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">J</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">)</span>
                                <span class="p">},</span>
                    <span class="c1"># End parameter_data</span>
                    <span class="p">}</span>
              <span class="p">},</span>
              <span class="c1"># End Component list</span>

        <span class="s2">&quot;phases&quot;</span><span class="p">:</span>  <span class="p">{</span><span class="s1">&#39;Liq&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">AqueousPhase</span><span class="p">,</span>
                            <span class="s2">&quot;equation_of_state&quot;</span><span class="p">:</span> <span class="n">Ideal</span><span class="p">},</span>
                    <span class="p">},</span>

        <span class="s2">&quot;state_definition&quot;</span><span class="p">:</span> <span class="n">FTPx</span><span class="p">,</span>

        <span class="c1"># This is an optional dictionary to setup bounds on</span>
        <span class="c1">#   the state variables. Names below MUST correspond</span>
        <span class="c1">#   to the &#39;FTPx&#39; type state definition</span>
        <span class="s2">&quot;state_bounds&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;flow_mol&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
                         <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">273.15</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">650</span><span class="p">),</span>
                         <span class="s2">&quot;pressure&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">5e4</span><span class="p">,</span> <span class="mf">1e5</span><span class="p">,</span> <span class="mf">1e6</span><span class="p">)</span>
                     <span class="p">},</span>

        <span class="c1"># These are generally optional parameters, however, because we</span>
        <span class="c1">#   are using the Perry&#39;s model to calculate temperature dependent</span>
        <span class="c1">#   properties, we MUST provide these here.</span>
        <span class="s2">&quot;pressure_ref&quot;</span><span class="p">:</span> <span class="mf">1e5</span><span class="p">,</span>
        <span class="s2">&quot;temperature_ref&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>

        <span class="c1"># Our dictionary for base units MUST define the following</span>
        <span class="s2">&quot;base_units&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">s</span><span class="p">,</span>
                       <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">m</span><span class="p">,</span>
                       <span class="s2">&quot;mass&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kg</span><span class="p">,</span>
                       <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">,</span>
                       <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">},</span>
    <span class="p">}</span>
    <span class="c1"># End thermo_config definition</span>
</pre></div>
</div>
<p>There is a significant amount to breakdown here, so let’s discuss a couple of things
step by step…</p>
<p><strong>(1)</strong> All components need a <code class="docutils literal notranslate"><span class="pre">&quot;type&quot;</span></code>. For this, you have a number of <code class="docutils literal notranslate"><span class="pre">&quot;type&quot;</span></code> options within IDAES.
Generally, the <code class="docutils literal notranslate"><span class="pre">&quot;H2O&quot;</span></code> component should always be a <code class="docutils literal notranslate"><span class="pre">Solvent</span></code> within WaterTAP. Charged species
will always be either a <code class="docutils literal notranslate"><span class="pre">Cation</span></code> or <code class="docutils literal notranslate"><span class="pre">Anion</span></code> depending on the sign of their actual <code class="docutils literal notranslate"><span class="pre">&quot;charge&quot;</span></code>.
More information on <code class="docutils literal notranslate"><span class="pre">&quot;components&quot;</span></code> can be found at <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general/component_def.html">Components</a>.</p>
<p><strong>(2)</strong> All components need to have methods defined for calculating thermodynamic properties such as
<code class="docutils literal notranslate"><span class="pre">&quot;dens_mol_liq_comp&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;cp_mol_liq_comp&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;enth_mol_liq_comp&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;entr_mol_liq_comp&quot;</span></code>.
In this example, we used the <code class="docutils literal notranslate"><span class="pre">Perrys</span></code> method for <code class="docutils literal notranslate"><span class="pre">&quot;H2O&quot;</span></code> and the <code class="docutils literal notranslate"><span class="pre">Constant</span></code> method for
both of our ions. When we declare a specific method to calculate these properties, we are then
REQUIRED to include specific parameter information in the <code class="docutils literal notranslate"><span class="pre">&quot;parameter_data&quot;</span></code> dictionary
defined within each component dictionary. For additional information regarding those parameter
needs, have a look at <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general/pure/Perrys.html">Perrys</a> and <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general/pure/ConstantProperties.html">Constant</a> methods in IDAES.</p>
<p><strong>(3)</strong> In this example, we are just setting up a configuration for water only. Thus, we are
not particularly interested in any other phases. In this case, we define the <code class="docutils literal notranslate"><span class="pre">&quot;phases&quot;</span></code>
dictionary to contain a single phase we named <code class="docutils literal notranslate"><span class="pre">'Liq'</span></code> and declared this to be an <code class="docutils literal notranslate"><span class="pre">AqueousPhase</span></code>.
In WaterTAP, most of our models will be using <code class="docutils literal notranslate"><span class="pre">AqueousPhase</span></code>, but may add additional phases
for effects such as precipitation and/or gas-absorbtion. Also, it should be noted that each phase
must also define a method for the <code class="docutils literal notranslate"><span class="pre">&quot;equation_of_state&quot;</span></code> argument. In this case, we are assuming
that the phase behaves under the <code class="docutils literal notranslate"><span class="pre">Ideal</span></code> assumption. For more information on phases and equations
of state, see <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general/phase_def.html">Phases</a> and <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general/eos/ideal.html">EquationOfState</a>.</p>
<p><strong>(4)</strong> We chose to define the <code class="docutils literal notranslate"><span class="pre">&quot;state_definition&quot;</span></code> as <code class="docutils literal notranslate"><span class="pre">FTPx</span></code>, however, there are many more
options available. More information can be found in <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general/state_definition.html">StateDefinition</a>.</p>
</section>
</section>
<section id="the-reaction-properties-configuration-dictionary">
<h2>The <strong>reaction-properties</strong> configuration dictionary<a class="headerlink" href="#the-reaction-properties-configuration-dictionary" title="Permalink to this heading"></a></h2>
<p>If you did not include reactions in the <strong>thermo-properties</strong> dictionary
(see <a class="reference internal" href="how_to_use_inherent_reactions.html#how-to-use-inherent-reactions"><span class="std std-ref">How to use inherent reactions</span></a>)
and your system involves reactions, then you MUST also create and
provide a <strong>reaction-properties</strong> configuration dictionary. Unlike the <strong>thermo-properties</strong>
configuration dictionary, most of the keys within the <strong>reaction-properties</strong> dictionary
are optional and depend on your system. The major keys to be aware of are as follows…</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>base_units</p></td>
<td><p>dictionary containing the base units the model uses (same as the <strong>thermo-properties</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p>equilibrium_reactions</p></td>
<td><p>dictionary containing the full set of equilibrium reactions in the system</p></td>
</tr>
<tr class="row-even"><td><p>rate_reactions</p></td>
<td><p>dictionary containing the full set of rate reactions in the system</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each type of reaction (<code class="docutils literal notranslate"><span class="pre">equilibrium_reactions</span></code> and <code class="docutils literal notranslate"><span class="pre">rate_reactions</span></code>) have
their own sets of parameters and methods to be declared. More information on
how to set up these arguments and the methods available can be found at
<a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general_reactions/index.html">GenericReactions</a>. You can go directly to either methods by following
the following links (<a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general_reactions/equil_rxns.html">EquilibriumReactions</a> and <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general_reactions/rate_rxns.html">RateReactions</a>).</p>
</div>
<section id="example-reaction-properties-configuration-dictionary">
<h3>Example reaction-properties configuration dictionary<a class="headerlink" href="#example-reaction-properties-configuration-dictionary" title="Permalink to this heading"></a></h3>
<p>Following from our previous example for the <strong>thermo-properties</strong> configuration
dictionary, here we will show how you setup a <strong>reaction-properties</strong> configuration
dictionary for the dissociation of water. Since water dissociation is a fast acid
reaction, we will model it as an equilibrium reaction.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Importing the object for units from pyomo</span>
<span class="kn">from</span> <span class="nn">pyomo.environ</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">pyunits</span>

<span class="c1"># Import the object/function for heat of reaction</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.reactions.dh_rxn</span> <span class="kn">import</span> <span class="n">constant_dh_rxn</span>

<span class="c1"># Import built-in Gibb&#39;s Energy function</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.reactions.equilibrium_constant</span> <span class="kn">import</span> <span class="n">van_t_hoff</span>

<span class="c1"># Import safe log power law equation</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.reactions.equilibrium_forms</span> <span class="kn">import</span> <span class="n">log_power_law_equil</span>

<span class="c1"># Importing the enum for concentration unit basis used in the &#39;get_concentration_term&#39; function</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.base.generic_reaction</span> <span class="kn">import</span> <span class="n">ConcentrationForm</span>

<span class="n">reaction_config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;base_units&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">s</span><span class="p">,</span>
                   <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">m</span><span class="p">,</span>
                   <span class="s2">&quot;mass&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kg</span><span class="p">,</span>
                   <span class="s2">&quot;amount&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">,</span>
                   <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">},</span>
    <span class="s2">&quot;equilibrium_reactions&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;H2O_Kw&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;stoichiometry&quot;</span><span class="p">:</span> <span class="p">{(</span><span class="s2">&quot;Liq&quot;</span><span class="p">,</span> <span class="s2">&quot;H2O&quot;</span><span class="p">):</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                                 <span class="p">(</span><span class="s2">&quot;Liq&quot;</span><span class="p">,</span> <span class="s2">&quot;H_+&quot;</span><span class="p">):</span> <span class="mi">1</span><span class="p">,</span>
                                 <span class="p">(</span><span class="s2">&quot;Liq&quot;</span><span class="p">,</span> <span class="s2">&quot;OH_-&quot;</span><span class="p">):</span> <span class="mi">1</span><span class="p">},</span>
               <span class="s2">&quot;heat_of_reaction&quot;</span><span class="p">:</span> <span class="n">constant_dh_rxn</span><span class="p">,</span>
               <span class="s2">&quot;equilibrium_constant&quot;</span><span class="p">:</span> <span class="n">van_t_hoff</span><span class="p">,</span>
               <span class="s2">&quot;equilibrium_form&quot;</span><span class="p">:</span> <span class="n">log_power_law_equil</span><span class="p">,</span>
               <span class="s2">&quot;concentration_form&quot;</span><span class="p">:</span> <span class="n">ConcentrationForm</span><span class="o">.</span><span class="n">moleFraction</span><span class="p">,</span>
               <span class="s2">&quot;parameter_data&quot;</span><span class="p">:</span> <span class="p">{</span>
                   <span class="s2">&quot;dh_rxn_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mf">55.830</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">kJ</span><span class="o">/</span><span class="n">pyunits</span><span class="o">.</span><span class="n">mol</span><span class="p">),</span>
                   <span class="s2">&quot;k_eq_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">10</span><span class="o">**-</span><span class="mi">14</span><span class="o">/</span><span class="mf">55.2</span><span class="o">/</span><span class="mf">55.2</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">dimensionless</span><span class="p">),</span>
                   <span class="s2">&quot;T_eq_ref&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">298</span><span class="p">,</span> <span class="n">pyunits</span><span class="o">.</span><span class="n">K</span><span class="p">),</span>

                   <span class="c1"># By default, reaction orders follow stoichiometry, so</span>
                   <span class="c1">#    we manually set reaction order here to override.</span>
                   <span class="c1">#    In our case, the water dissociation reaction is</span>
                   <span class="c1">#    mathematically represented by Kw = [H_+]*[OH_-]</span>
                   <span class="c1">#    thus, this reaction is of order 0 with respect</span>

                   <span class="c1">#    to the [H2O] concentration.</span>
                   <span class="s2">&quot;reaction_order&quot;</span><span class="p">:</span> <span class="p">{(</span><span class="s2">&quot;Liq&quot;</span><span class="p">,</span> <span class="s2">&quot;H2O&quot;</span><span class="p">):</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="p">(</span><span class="s2">&quot;Liq&quot;</span><span class="p">,</span> <span class="s2">&quot;H_+&quot;</span><span class="p">):</span> <span class="mi">1</span><span class="p">,</span>
                                    <span class="p">(</span><span class="s2">&quot;Liq&quot;</span><span class="p">,</span> <span class="s2">&quot;OH_-&quot;</span><span class="p">):</span> <span class="mi">1</span><span class="p">}</span>
                    <span class="p">}</span>
                    <span class="c1"># End parameter_data</span>
               <span class="p">}</span>
               <span class="c1"># End reaction H2O_Kw</span>
         <span class="p">}</span>
         <span class="c1"># End equilibrium_reactions</span>
    <span class="p">}</span>
    <span class="c1"># End reaction_config definition</span>
</pre></div>
</div>
<p>There is a significant amount of information and options available, so we will
just go through some things of note here.</p>
<p><strong>(1)</strong> Each reaction you add to the model will have its own dictionary with
essentially the same format as the <code class="docutils literal notranslate"><span class="pre">&quot;H2O_Kw&quot;</span></code> dictionary shown above. Make sure
that each reaction you add has a unique key within the <code class="docutils literal notranslate"><span class="pre">&quot;equilibrium_reactions&quot;</span></code>
parent dictionary.</p>
<p><strong>(2)</strong> The first thing you need to define about the reaction is the stoichiometry.
In IDAES, we follow the convention that <strong>products</strong> of a reaction should have
positive stoichiometric values and <strong>reactants</strong> of a reaction should have negative
stoichiometric values. This is true for both <code class="docutils literal notranslate"><span class="pre">equilibrium_reactions</span></code> and
<code class="docutils literal notranslate"><span class="pre">rate_reactions</span></code>.</p>
<p><strong>(3)</strong> The <code class="docutils literal notranslate"><span class="pre">&quot;stoichiometry&quot;</span></code> dictionary under the reaction has tuple keys. In
this format, the first item in the tuple is the <code class="docutils literal notranslate"><span class="pre">phase</span></code> of the species involved in
the reaction and the second item in the tuple is the <code class="docutils literal notranslate"><span class="pre">name</span></code> of the species. Recall
that in the <strong>thermo-properties</strong> configuration dictionary, we named the <code class="docutils literal notranslate"><span class="pre">AqueousPhase</span></code>
as <code class="docutils literal notranslate"><span class="pre">&quot;Liq&quot;</span></code>, thus we must reference that same name here in the <strong>reaction-properties</strong>
configuration dictionary. The specific species must also be referenced by the names
they were given in the <strong>thermo-properties</strong> configuration dictionary.</p>
<p><strong>(4)</strong> You must provide methods/options for each of the following: <code class="docutils literal notranslate"><span class="pre">&quot;heat_of_reaction&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;equilibrium_constant&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;equilibrium_form&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;concentration_form&quot;</span></code>. These
methods will define how IDAES computes the heat of reaction in the energy balance, the
equilibrium constant or K value for this reaction constraint, the mathematical representation
of the equilibrium constraint, and what the concentration form is for the species involved
in this reaction, respectively. Many options are available for all of these and more
information on each can be found at <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general_reactions/method_libraries.html#reaction-module-libraries">ReactionMethods</a> and <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general_reactions/rate_rxns.html#concentration-form">ConcentrationForm</a>.</p>
<p><strong>(5)</strong> The <code class="docutils literal notranslate"><span class="pre">&quot;parameter_data&quot;</span></code> dictionary must contain the parameter information
required by the chosen methods from <strong>(4)</strong> above. See <a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/explanations/components/property_package/general_reactions/method_libraries.html#reaction-module-libraries">ReactionMethods</a> for more
details.</p>
<p><strong>(6)</strong> Within the <code class="docutils literal notranslate"><span class="pre">&quot;parameter_data&quot;</span></code> dictionary is an optional dictionary for
<code class="docutils literal notranslate"><span class="pre">&quot;reaction_order&quot;</span></code>. If this dictionary is not provided, then it is assumed that
the order of the reaction form with respect to each species just follows the
<code class="docutils literal notranslate"><span class="pre">&quot;stoichiometry&quot;</span></code> dictionary from above. However, in certain cases you may need
to override that assumption. In this particular case, we override the reaction
order to zero out the order with respect to the water concentration. This is
standard practice for aqueous acid-base chemistry.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;reaction_order&quot;</span></code> dictionary follows the same sign convention for products
and reactants as the <code class="docutils literal notranslate"><span class="pre">&quot;stoichiometry&quot;</span></code> dictionary. Positive signs for products
and negative signs for reactants.</p>
</div>
</section>
</section>
<section id="defining-a-unit-model">
<h2>Defining a <strong>unit model</strong><a class="headerlink" href="#defining-a-unit-model" title="Permalink to this heading"></a></h2>
<p>Once you have your <strong>thermo-properties</strong> and (optionally) your <strong>reaction-properties</strong>
configuration dictionaries setup, you will want to put them into a <strong>unit model</strong> so
that you can simulate that particular unit process with the chemistry you have
specified. Within IDAES, their are numerous <strong>unit models</strong> to chose from that
will support the inclusion of these chemistry configurations. A list of the
<strong>unit models</strong> available, and how to use them, are provided here (<a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/reference_guides/model_libraries/generic/unit_models/index.html">UnitModels</a>).</p>
<p>In this guide, we will not cover all the <strong>unit models</strong>, but will give one basic
example of how to use the configuration dictionaries defined above with the
<a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/reference_guides/model_libraries/generic/unit_models/equilibrium.html">EquilibriumReactor</a> model.</p>
<section id="example-using-our-configuration-dictionaries-in-an-equilibriumreactor">
<h3>Example: Using our configuration dictionaries in an EquilibriumReactor<a class="headerlink" href="#example-using-our-configuration-dictionaries-in-an-equilibriumreactor" title="Permalink to this heading"></a></h3>
<p>Recall, we had named our configuration dictionaries as <code class="docutils literal notranslate"><span class="pre">thermo_config</span></code> and
<code class="docutils literal notranslate"><span class="pre">reaction_config</span></code>. We will reference those dictionary names in the example
code below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import specific pyomo objects</span>
<span class="kn">from</span> <span class="nn">pyomo.environ</span> <span class="kn">import</span> <span class="n">ConcreteModel</span>

<span class="c1"># Import the core idaes objects for Flowsheets and types of balances</span>
<span class="kn">from</span> <span class="nn">idaes.core</span> <span class="kn">import</span> <span class="n">FlowsheetBlock</span>

<span class="c1"># Import the idaes objects for Generic Properties and Reactions</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.base.generic_property</span> <span class="kn">import</span> <span class="n">GenericParameterBlock</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties.modular_properties.base.generic_reaction</span> <span class="kn">import</span> <span class="n">GenericReactionParameterBlock</span>

<span class="c1"># Import the idaes object for the EquilibriumReactor unit model</span>
<span class="kn">from</span> <span class="nn">idaes.models.unit_models.equilibrium_reactor</span> <span class="kn">import</span> <span class="n">EquilibriumReactor</span>

<span class="c1"># Create an instance of a pyomo model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>

<span class="c1"># Add an IDAES flowsheet to that model</span>
<span class="n">model</span><span class="o">.</span><span class="n">fs</span> <span class="o">=</span> <span class="n">FlowsheetBlock</span><span class="p">(</span><span class="n">dynamic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Add a thermo parameter block to that flowsheet</span>
<span class="c1">#   Here, we are passing our &#39;thermo_config&#39; dictionary we created earlier</span>
<span class="n">model</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">thermo_params</span> <span class="o">=</span> <span class="n">GenericParameterBlock</span><span class="p">(</span><span class="o">**</span><span class="n">thermo_config</span><span class="p">)</span>

<span class="c1"># Add a reaction parameter block to that flowsheet</span>
<span class="c1">#   Here, we are passing our thermo block created above as the property package</span>
<span class="c1">#   and then giving our &#39;reaction_config&#39; as the instructions for how the</span>
<span class="c1">#   reactions will be constructed from the thermo package.</span>
<span class="n">model</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">rxn_params</span> <span class="o">=</span> <span class="n">GenericReactionParameterBlock</span><span class="p">(</span><span class="n">property_package</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">thermo_params</span><span class="p">,</span> <span class="o">**</span><span class="n">reaction_config</span><span class="p">)</span>

<span class="c1"># Add an EquilibriumReactor object as the unit model</span>
<span class="c1">#   Here, we pass both the thermo package and reaction package, as well</span>
<span class="c1">#   as a number of other arguments to help define how this unit process</span>
<span class="c1">#   will behave.</span>
<span class="n">model</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="n">EquilibriumReactor</span><span class="p">(</span><span class="n">property_package</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">thermo_params</span><span class="p">,</span>
                                   <span class="n">reaction_package</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">rxn_params</span><span class="p">,</span>
                                   <span class="n">has_rate_reactions</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">has_equilibrium_reactions</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                   <span class="n">has_heat_transfer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">has_heat_of_reaction</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                   <span class="n">has_pressure_change</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># At this point, you can &#39;fix&#39; your inlet/outlet state conditions,</span>
<span class="c1">#     setup scaling factors, initialize the model, then solve the model</span>
<span class="c1">#     just as you would with any other IDAES flowsheet</span>
</pre></div>
</div>
<p>In the example code above, we show how to setup the thermo and reaction packages
and place them into the <cite>EquilibriumReactor</cite> unit model, but do not go further.
Additional instructions for setting up and solving unit models can be found at
<a class="reference external" href="https://idaes-pse.readthedocs.io/en/stable/how_to_guides/workflow/general.html">IDAESWorkflow</a>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="how_to_use_MCAS_property_model.html" class="btn btn-neutral float-left" title="How to use the multicomponent aqueous solution (MCAS) property model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="how_to_use_apparent_and_true_chemical_species.html" class="btn btn-neutral float-right" title="How to use apparent and true chemical species" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../copyright.html">Copyright</a> 2020-2024, NAWI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>